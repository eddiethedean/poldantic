Metadata-Version: 2.4
Name: poldantic
Version: 0.1.0
Summary: Convert Pydantic models to Polars schemas
Author-email: Odos Matthews <odosmatthews@gmail.com>
License: MIT License
        
        Copyright (c) [2025] [Odos Matthews]
        
        Permission is hereby granted, free of charge, to any person obtaining a copy
        of this software and associated documentation files (the "Software"), to deal
        in the Software without restriction, including without limitation the rights
        to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
        copies of the Software, and to permit persons to whom the Software is
        furnished to do so, subject to the following conditions:
        
        The above copyright notice and this permission notice shall be included in all
        copies or substantial portions of the Software.
        
        THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
        IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
        FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
        AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
        LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
        OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
        SOFTWARE.
Project-URL: Repository, https://github.com/eddiethedean/poldantic
Requires-Python: >=3.8
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: pydantic>=2.0
Requires-Dist: polars>=0.20.0
Dynamic: license-file

# ğŸ§© Poldantic

**Poldantic** converts [Pydantic](https://docs.pydantic.dev/) models into [Polars](https://pola.rs/) schemas â€” making it easy to validate, align, and document your data pipeline types between the Python and Polars worlds.

---

## âœ¨ Features

- ğŸ” Convert `BaseModel` classes to `polars.Schema` or `pl.Struct`
- âœ… Handles optional fields (`Optional[T]`) and union types
- ğŸ§± Supports nested and deeply nested Pydantic models
- ğŸ“¦ Outputs multiple formats: `dict`, `list`, `pl.Schema`, `pl.Struct`
- ğŸ§  Tracks `nullable` status via `FieldInfo`

---

## ğŸ“¦ Installation

```bash
pip install poldantic
```

---

## ğŸš€ Usage

```python
from pydantic import BaseModel
from typing import Optional, List
import polars as pl
import poldantic as pd

class Address(BaseModel):
    street: str
    zip: Optional[int]

class User(BaseModel):
    id: int
    name: str
    address: Address
    tags: List[str]

pd.get_polars_schema_dict(User)
# {'id': pl.Int64, 'name': pl.Utf8, 'address': pl.Struct([...]), 'tags': pl.List(pl.Utf8)}

pd.get_polars_schema(User)
# pl.Schema({...})

pd.get_polars_struct(User)
# pl.Struct([...])

pd.get_polars_fieldinfo_dict(User)
# {'name': FieldInfo(dtype=Utf8, nullable=False), ...}
```

---

## ğŸ§ª Output Formats

| Function | Output |
|----------|--------|
| `get_polars_schema_dict()` | `dict[str, pl.DataType]` |
| `get_polars_schema_list()` | `list[(str, pl.DataType)]` |
| `get_polars_fieldinfo_dict()` | `dict[str, FieldInfo]` |
| `get_polars_fieldinfo_list()` | `list[(str, FieldInfo)]` |
| `get_polars_schema()` | `pl.Schema` |
| `get_polars_struct()` | `pl.Struct` |

---

## ğŸ” FieldInfo

The `FieldInfo` object tracks both the Polars data type and its nullability:

```python
@dataclass
class FieldInfo:
    dtype: pl.DataType
    nullable: bool = False
```

---

## ğŸ“š Examples

See [`examples/poldantic_demo.ipynb`](examples/poldantic_demo.ipynb) for a working notebook showing nested models and schema inspection.

---

## ğŸ“œ License

MIT License Â© 2025 Odos Matthews
